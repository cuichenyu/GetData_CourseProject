z$level5 = exp(p5)/(1+exp(p5))
z$level6 = exp(p6)/(1+exp(p6))
z$level7 = exp(p7)/(1+exp(p7))
z[1:5,]
max(z[1,2:8])
z$predict=1
z[1:5,]
for (I in 1:nrow(z)) {for (j in 2:8) {if (z[i,j]==max(z[i,2:8])) {z$predict[i]=j}}}
z[1,3]==max(z[1,2:8])
for (i in 1:nrow(z)) {for (j in 2:8) {if (z[i,j]==max(z[i,2:8])) {z$predict[i]=j}}}
z[1:10,]
for (i in 1:nrow(z)) {for (j in 2:8) {if (z[i,j]==max(z[i,2:8])) {z$predict[i]=j-1}}}
z[1:10,]
nrow(z)
sum(z$LeagueIndex==z$predict)
sum((z$LeagueIndex==z$predict)&&(z$LeagueIndex==7))
sum((z$LeagueIndex==z$predict)&&(z$predict==7))
sum((z$LeagueIndex==z$predict)&&(z$LeagueIndex==6))
sum((z$LeagueIndex==z$predict)&&(z$LeagueIndex==5))
sum((z$LeagueIndex==z$predict)&&(z$LeagueIndex==4))
sum((z$LeagueIndex==z$predict)&&(z$LeagueIndex==3))
sum((z$LeagueIndex==z$predict)&&(z$LeagueIndex==2))
sum((z$LeagueIndex==z$predict)&&(z$LeagueIndex==1))
sum((z$LeagueIndex==z$predict)&(z$LeagueIndex==1))
sum((z$LeagueIndex==z$predict)&(z$LeagueIndex==2))
sum((z$LeagueIndex==z$predict)&(z$LeagueIndex==3))
sum((z$LeagueIndex==z$predict)&(z$LeagueIndex==4))
sum((z$LeagueIndex==z$predict)&(z$LeagueIndex==5))
sum((z$LeagueIndex==z$predict)&(z$LeagueIndex==6))
sum((z$LeagueIndex==z$predict)&(z$LeagueIndex==7))
for (i in 1:nrow(w)) {for (j in 2:8) {if (w[i,j]==max(w[i,2:8])) {w$predict[i]=j-1}}}
w[1:10,]
sum(z$LeagueIndex==z$predict)
sum(w$LeagueIndex==w$predict)
nrow(z)
save.image("E:\\1.RData")
q()
z[1:10,]
boxplot(APM~LeagueIndex,data=x1,main="APM")
boxplot(Age~LeagueIndex,data=x1,main="Age")
boxplot(TotalHours~LeagueIndex,data=x1,main="Age")
boxplot(HoursPerWeek~LeagueIndex,data=x1,main="Age")
dim(x)
q()
Mean=sapply(x,mean)
Min=sapply(x,min)
Median=sapply(x,median)
Max=sapply(x,max)
SD=sapply(x,sd)
cbind(Mean,Min,Median,Max,SD)
cb=cbind(Mean,Min,Median,Max,SD)
round(cb,3)
mean2=sapply(x1,mean)
min2=sapply(x1,min)
median2=sapply(x1,median)
max2=sapply(x1,max)
sd2=sapply(x1,sd)
cb2=cbind(mean2,min2,median2,max2,sd2)
round(cb2,3)
mean3=sapply(x2,mean)
min3=sapply(x2,min)
median3=sapply(x2,median)
max3=sapply(x2,max)
sd3=sapply(x2,sd)
cb3=cbind(mean3,min3,median3,max3,sd3)
round(cb3,3)
x[1,]
boxplot(Age~LeagueIndex,data=x,main="Age")
boxplot(HoursPerWeek~LeagueIndex,data=x,main="HoursPerWeek")
boxplot(TotalHours~LeagueIndex,data=x,main="TotalHours")
boxplot(APM~LeagueIndex,data=x,main="APM")
boxplot(SelectByHotkeys~LeagueIndex,data=x,main="SelectByHotkeys")
boxplot(AssignToHotkeys~LeagueIndex,data=x,main="AssignToHotkeys")
boxplot(UniqueHotkeys~LeagueIndex,data=x,main="UniqueHotkeys")
boxplot(MinimapAttacks~LeagueIndex,data=x,main="MinimapAttacks")
boxplot(MinimapRightClicks~LeagueIndex,data=x,main="MinimapRightClicks")
boxplot(NumberOfPACs~LeagueIndex,data=x,main="NumberOfPACs")
boxplot(GapBetweenPACs~LeagueIndex,data=x,main="GapBetweenPACs")
boxplot(ActionLatency~LeagueIndex,data=x,main="ActionLatency")
boxplot(ActionsInPAC~LeagueIndex,data=x,main="ActionsInPAC")
boxplot(TotalMapExplored~LeagueIndex,data=x,main="TotalMapExplored")
boxplot(WorkersMade~LeagueIndex,data=x,main="WorkersMade")
boxplot(UniqueUnitsMade~LeagueIndex,data=x,main="UniqueUnitsMade")
boxplot(ComplexMade~LeagueIndex,data=x,main="ComplexUnitsMade")
boxplot(ComplexUnitsMade~LeagueIndex,data=x,main="ComplexUnitsMade")
boxplot(ComplexAbilitiesUsed~LeagueIndex,data=x,main="ComplexAbilitiesUsed")
x1[1:10,1:10]
x1[1:10,1:10]
x1[1:10,1:6]
x2[1:10,1:6]
q()
round(z[1:10,],3)
sum((z$LeagueIndex==1)&(Z$LeagueIndex==1))
sum((z$LeagueIndex==1)&(z$predict==1))
sum((z$LeagueIndex!=1)&(z$predict==1))
sum((z$LeagueIndex==1)&(z$predict!=1))
sum((z$LeagueIndex==2)&(z$predict==2))
sum((z$LeagueIndex!=2)&(z$predict==2))
sum((z$LeagueIndex==2)&(z$predict!=2))
sum((z$LeagueIndex==3)&(z$predict==3))
sum((z$LeagueIndex!=3)&(z$predict==3))
sum((z$LeagueIndex==3)&(z$predict!=3))
sum((z$LeagueIndex==4)&(z$predict==4))
sum((z$LeagueIndex!=4)&(z$predict==4))
sum((z$LeagueIndex==4)&(z$predict!=4))
sum((z$LeagueIndex==5)&(z$predict==5))
sum((z$LeagueIndex!=5)&(z$predict==5))
sum((z$LeagueIndex==5)&(z$predict!=5))
sum((z$LeagueIndex==6)&(z$predict==6))
sum((z$LeagueIndex!=6)&(z$predict==6))
sum((z$LeagueIndex==6)&(z$predict!=6))
sum((z$LeagueIndex==7)&(z$predict==7))
sum((z$LeagueIndex!=7)&(z$predict==7))
sum((z$LeagueIndex==7)&(z$predict!=7))
save.image("E:\\1.RData")
q()
help(lda)
??lda
library(MASS)
help(lda)
save=lda(formula=LeagueIndex~Age+HoursPerWeek+TotalHours+APM+SelectByHotkeys+AssignToHotkeys+UniqueHotkeys+MinimapAttacks+MinimapRightClicks+NumberOfPACs+GapBetweenPACs+ActionLatency+ActionsInPAC+TotalMapExplored+WorkersMade+UniqueUnitsMade+ComplexUnitsMade+ComplexAbilitiesUsed,data=x1)
class.table=table(x$LeagueIndex,save$class)
save
save$class
save
save$class
save
help(predict.lda)
??predict.lda
save2=predict(save,x2)
library(MASS)
save
save$prior
save$scaling
predict(save$scaling,x2)
predict.lda(save$scaling,x2)
predict(save,x2)
save2=predict(save,x2)
save2$class
sum(x2$LeagueIndex==save2$class)
class.table=table(x2$LeagueIndex,save2$ckass)
class.table=table(x2$LeagueIndex,save2$class)
class.table
save
help(gda)
??gda
help(qda)
w[1:10,]
save$scaling
round(save$scaling,3)
round(save$scaling,2)
save2
save2$class
class.table
help(table)
class.table=table(x2$LeagueIndex,save2$class,dnn=list.names("Original","Predict"))
class.table=table(x2$LeagueIndex,save2$class,dnn=("Original","Predict"))
help(list.names)
??list.names
sum((x2$LeagueIndex==1)&(save2$class==2))
sum((x2$LeagueIndex==1)&(save2$class==1))
sum((x2$LeagueIndex!=1)&(save2$class==1))
sum((x2$LeagueIndex==1)&(save2$class!=1))
class.table2=table(z$LeagueIndex,z$predict)
class.table2
class.table
11
save.image("F:\\ÑÐ¾¿ÉúÑ§Ï°ÓëÉú»î\\¿Î³Ì\\¸ß¼¶Ó¦ÓÃÊýÀíÍ³¼Æ\\´ó×÷Òµ\\1.RData")
q()
library(MASS)
??HELP
??lda
save$svd
q()
x=5
x + y
add2 = function (x , y) {
x + y
}
add2(3,5)
add2(a,5)
add2(6,5)
above10 = function (x) {
if (x > 10) {
return x
}
}
above10 = function (x) {
use = x > 10
x[use]
}
above10(c(3,5,6,7,9,12,35))
columnmeans = function (x) {
nc = ncol(x)
means = numeric(nc)
for (i in 1:nc) {
means[i] = mean(x[,i])
}
means
}
x = matrix(5:24,4,5)
columnmeans(x)
airquality
colmeans(airquality)
columnmeans(airquality)
columnmeans = function (x , removeNA = TRUE) {
nc = ncol(x)
means = numeric(nc)
for (i in 1:nc) {
means[i] = mean(x[,i] , na.rm = removeNA)
}
means
}
columnmeans(airquality)
source('~/.active-rstudio-document')
x = list(a=1:5,b=rnorm(10),c=rnorm(20,1),d=rnorm(100,10))
lapply(x,mean)
runif(4)
runif(100)
range(1:5)
range(1,5)
str(split)
str(mean)
library(datasets)
x
y = list(e=1:4,f=rnorm(10))
c(x,y)
solve(x)
library(datasets)
data(iris)
tapply(iris$Sepal.length, iris$Species, mean)
iris
tapply(iris$Sepal.Length, iris$Species, mean)
x = [1,2:3,5]
x = matrix(c(1,2,3,5),2,2)
x
solve(x)
makeCacheMatrix <- function(x = matrix()) {
m <- NULL
set <- function(y) {
x <<- y
m <- NULL
}
get <- function() x
setsolve <- function(solve) m <<- solve
getsolve <- function() m
}
cacheSolve <- function(x, ...) {
## Return a matrix that is the inverse of 'x'
m <- x$getsolve()
if (!is.null(m)) {
message("getting cached data")
return(m)
}
data <- x$get()
m <- solve(data,...)
x$setsolve(m)
m
}
cachesolve(x)
cacheSolve(x)
x=matrix(c(1,2,4,5,6,7,8,9,10),3,3)
x
solve(x)
cacheSolve(x)
y=makeCacheMatrix(x)
cacheSolve(y)
y
x
makeCacheMatrix <- function(x = matrix()) {
m <- NULL
set <- function(y) {
x <<- y
m <- NULL
}
get <- function() x
setsolve <- function(solve) m <<- solve
getsolve <- function() m
list(set = set, get = get, setsolve = setsolve, getsolve = getsolve)
}
y=makeCacheMatrix(x)
y
cacheSolve(y)
cacheSolve(y)
getwd()
library(datasets)
hist(airquality$0zone)
hist(airquality$Ozone)
with(airquality,plot(Wind,Ozone))
plot(airquality$Wind,airquality$Ozone)
airquality <- transform(airquality, Month = factor(Month))
boxplot(Ozone ~ Month, airquality, xlab = "Month", ylab = "Ozone (ppb)")
plot(airquality$Wind,airquality$Ozone,pch="a")
plot(airquality$Wind,airquality$Ozone,pch="4")
plot(airquality$Wind,airquality$Ozone,pch=5)
with(airquality, plot(Wind, Ozone, main = "Ozone and Wind in New York City",type = "n"))
with(airquality, plot(Wind, Ozone, main = "Ozone and Wind in New York City",type = n))
with(airquality, plot(Wind, Ozone, main = "Ozone and Wind in New York City",type = "n"))
with(subset(airquality, Month == 5), points(Wind, Ozone, col = "blue"))
with(subset(airquality, Month != 5), points(Wind, Ozone, col = "red"))
legend("topright", pch = 1, col = c("blue", "red"), legend = c("May", "Other Months"))
dev.cur()
d1 = date()
d1
class(d`)
class(d1)
x
afsda
s sdfg
asdfg
d
a)
''
'
a
sdf
sdf"
d1 = date()
class(d1)
d2 = Sys.date()
d2 = Sys.Date()
format(d2, "%A-%B-%d")
format(d2, "%a-%b-%d")
format(d2, "%a %b %d")
install.packages("lattice")
library(lattice)
library(datasets)
xyplot(Ozine ~ Wind, data = airquality)
xyplot(Ozone ~ Wind, data = airquality)
xyplot(Ozone ~ Wind | Month, data = airquality, layout = c(5,1))
xyplot(Ozone ~ Wind | Month = factor(Month), data = airquality, layout = c(5,1))
Month = factor(Month)
airquality$Month = factor(airquality$Month)
xyplot(Ozone ~ Wind | Month = factor(Month), data = airquality, layout = c(5,1))
xyplot(Ozone ~ Wind | Month, data = airquality, layout = c(5,1))
p = xyplot(Ozone ~ Wind | Month, data = airquality, layout = c(5,1))
print(p)
?panel.lmline
install.packages("ggplot2")
library(ggplot2)
str(mpg)
qplot(displ, hwy ,data = mpg)
qplot(displ, hwy ,data = mpg, color = drv)
qplot(displ, hwy, data = mpg, facets = .~drv)
?geom_smooth
library(nlme)
xyplot(weight ~ Time | Diet, BodyWeight)
p <- xyplot(Ozone ~ Wind | factor(Month), data = airquality)
airquality = transform(airquality, Month = factor(Month))
qplot(Wind, Ozone, data = airquality, facets = . ~ Month)
qplot(Wind, Ozone, data = airquality, facets = . ~ factor(Month))
?print.trellis
?trellis.par.set
sample(1:100,size=40,replace=FALSE)
heat.colors()
heat.colors(5)
topo.colors(5)
topo.colors(4)
x = rnorm(10000)
y = rnorm(10000)
plot(x,y)
smoothScatter(x,y)
rgb(red)
rgb(5,6,7)
rgb(0.3,0.5,0.2)
rgb(0.3,0.5,0.3)
rgb(0.3,0.5,0.3,alpha = 1)
rgb(0.3,0.5,0.3,alpha = 0.3)
setwd("F:/ç ”ç©¶ç”Ÿå­¦ä¹ ä¸Žç”Ÿæ´»/è¯¾ç¨‹/ç½‘ä¸Šå…¬å¼€è¯¾/èŽ·å–ä¸Žæ•´ç†æ•°æ®_Coursera/ä½œä¸š/GetData_CourseProject")
colnames = read.table("UCI HAR Dataset/features.txt")
x_train = read.table("UCI HAR Dataset/train/X_train.txt",col.names = colnames[,2])
y_train <- read.table("UCI HAR Dataset/train/y_train.txt",col.names = "y")
x_test <- read.table("UCI HAR Dataset/test/X_test.txt",col.names = colnames[,2])
y_test <- read.table("UCI HAR Dataset/test/y_test.txt",col.names = "y")
x_test[1:5,1:5]
subject_train <- read.table("UCI HAR Dataset/train/subject_train.txt",col.names = "subject")
subject_test <- read.table("UCI HAR Dataset/test/subject_test.txt",col.names = "subject")
activity_labels <- read.table("UCI HAR Dataset/activity_labels.txt",col.names = "subject")
activity_labels <- read.table("UCI HAR Dataset/activity_labels.txt")
training_set <- cbind(x_train, y_train, subject_train)
testing_set <- cbind(x_test, y_test, subject_test)
train_set <- cbind(x_train, y_train, subject_train)
test_set <- cbind(x_test, y_test, subject_test)
rm(training_set)
rm(testing_set)
gc()
total_set <- rbind(train_set, test_set)
names(total_set)
"have" in "have fun"
grep(mean,names(total_set))
grep("mean",names(total_set))
a = vector(mode = "numeric")
a = append (grep("mean",names(total_set)))
a = append (a, grep("mean",names(total_set)))
a = append (a, grep("std",names(total_set)))
a
head(colnames)
a = vector(mode = "numeric")
a = append (a, grep("mean()",colnames[,2]))
a = append (a, grep("std()",colnames[,2]))
a
grepl("mean()",colnames[,2])
grep("meanFreq()",colnames[,2])
grep("meanFreq()",colnames[,2],fixed=TRUE)
grep("mean()",colnames[,2],fixed=TRUE)
a = vector(mode = "numeric")
a = append(a, grep("mean()",colnames[,2],fixed=TRUE))
a = append(a, grep("std()",colnames[,2],fixed=TRUE))
a <- append(a, 562)
a <- append(a, 563)
a
temp = total_set[,a]
temp[1:10,1:6]
sort(a)
temp = total_set[,sort(a)]
temp[1:10,1:6]
total_set <- total_set[,sort(a)]
rm(temp)
activity_labels
total_set$activity
total_set$y
temp = total_set$y
len(temp)
length(temp)
temp[3]
for (i in 1:length(temp)) {
temp[i] = activity_labels[temp[i],2]
}
temp[1:6]
activity_labels[3,2]
temp[1]
activity_labels[temp[1],2]
temp[1] = activity_labels[temp[1],2]
temp[1]
x = activity_labels[temp[1],2]
x
temp
x = activity_labels[temp,2]
x
total_set$activity <- activity_labels[total_set$y, 2]
total_set[1:10,69]
total_set = total_set[,-"y"]
total_set = total_set[,-y]
names(total_set)
total_set = total_set[,-"y"]
total_set$y <- activity_labels[total_set$y, 2]
total_set[1:10,67:69]
names(total_set)
subject
subject_test
names(total_set)
source(run_analysis.R)
source("run_analysis.R")
temp = gsub("..","\(\)",names(total_set))
temp = gsub("..","()",names(total_set))
temp
temp = gsub("\.\.","()",names(total_set))
temp = gsub("\..","()",names(total_set))
temp = gsub("..","()",names(total_set))
temp
names(total_set)
temp = gsub(".","()",names(total_set))
temp
temp = gsub("\\.","()",names(total_set))
temp
temp = gsub("\\..","()",names(total_set))
temp
temp = gsub("\\.\\.","()",names(total_set))
temp
names(total_set) = gsub("\\.\\.","()",names(total_set))
names(total_set)
temp = gsub("\\.","-",names(total_set))
temp
source("run_analysis.R")
source("run_analysis.R")
source("run_analysis.R")
names(total_set)
aggregate(total_set, by = c(total_set$activity, total_set$subject), Fun = mean)
aggregate(total_set, by = c(total_set$activity, total_set$subject), Fun = "mean")
aggregate(total_set, by = c(total_set$activity, total_set$subject), fun = "mean")
aggregate(total_set, by = c(total_set$activity, total_set$subject), fun = mean)
aggregate(total_set, by = c(total_set$activity, total_set$subject), mean)
aggregate(total_set, list(Activity = total_set$activity, Subject = total_set$subject), mean)
result = aggregate(total_set, list(Activity = total_set$activity, Subject = total_set$subject), mean)
tapply(total_set, list(Activity = total_set$activity, Subject = total_set$subject), mean)
tapply(total_set, list(total_set$activity,total_set$subject), mean)
list(Activity = total_set$activity, Subject = total_set$subject)
tapply(total_set, list(Activity = total_set$activity, Subject = total_set$subject), mean)
tapply(total_set, total_set$activity, mean)
length(total_set)
length(total_set$activity)
length(total_set[,1:66])
aggregate(total_set, list(total_set$activity, total_set$subject), mean)
temp = aggregate(total_set, list(total_set$activity, total_set$subject), mean)
temp[1:5,1:5]
temp[1:2,]
temp[,1:2]
temp = aggregate(total_set[,1:66], list(total_set$activity, total_set$subject), mean)
head(temp)
temp = aggregate(total_set[,1:66], list(total_set$subject, total_set$activity), mean)
head(temp)
temp = aggregate(total_set[,1:66], list(total_set$subject, total_set$activity), mean)
head(temp)
temp = aggregate(total_set[,1:66], list(total_set$activity, total_set$subject), mean)
gsub("Group.1","Activity",names(final_set))
final_set <- aggregate(total_set[,1:66], list(total_set$activity, total_set$subject), mean)
gsub("Group.1","Activity",names(final_set))
names(final_set) <- gsub("Group.1","Activity",names(final_set))
names(final_set) <- gsub("Group.2","Subject",names(final_set))
names(final_set)
write.table(final_set, "final_data_set.txt",row.names = FALSE)
write.table(final_set, "final_data_set.txt", row.names = FALSE, sep = "\t")
